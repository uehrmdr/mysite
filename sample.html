<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>dataLayer実行用ページ</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/fixmenu_pagetop.css">

<script type="text/javascript" src="js/openclose.js"></script>
<script type="text/javascript" src="js/fixmenu_pagetop.js"></script>

</head>
<body>

<p>サンプルページです。</p>

<div>
<label>感想：<br>
<textarea cols="40" rows="5" id="reviewTextarea"></textarea>
</label>
</div>

<p id="msg"></p>

<script>
function inputChange(event){
  msg.innerText = reviewTextarea.value;

  var newElement = document.createElement("script"); // script要素作成
  console.log(msg);
  console.log(msg.innerText)
  var newContent = document.createTextNode(msg.innerText); // テキストノードを作成
  newElement.appendChild(newContent); // テキストノードを追加
  newElement.setAttribute("id","append"); // idを設定
  var num = document.getElementsByTagName('script').length -1;
  var ele = document.getElementsByTagName('script')[num];
  ele.appendChild(newElement);
}

let reviewTextarea = document.getElementById('reviewTextarea');
reviewTextarea.addEventListener('change', inputChange);
let msg = document.getElementById('msg');
</script>

</body>
</html>